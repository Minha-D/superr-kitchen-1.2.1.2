#!/usr/bin/env python3
#
# SuperR's Kitchen Free v1.2.x - By SuperR.
#
# Do not edit this file unless you know what you are doing

import sys, os, tty, termios

def getChar():
	def _ttyRead():
		fd = sys.stdin.fileno()
		oldSettings = termios.tcgetattr(fd)
		try:
			tty.setraw(fd)
			choice = sys.stdin.read(1)
		finally:
			termios.tcsetattr(fd, termios.TCSADRAIN, oldSettings)
		return choice
	return _ttyRead().lower()

superr = os.path.join(os.path.dirname(sys.argv[0]), 'tools', 'source', 'superr' ) + ' ' + ' '.join(sys.argv[1:])

print('Loading ...')

retval = os.system(superr)
answer = ''

while answer != 'q':
	if retval in [768, 3]:
		print('Restarting ...')
		retval = os.system(superr)
	elif len(sys.argv) <= 1:
		print('\n\n\033[0m\033[32mPress "q" to Quit, or "r" to Restart\033[0m')
		answer = getChar()

		if answer == 'r':
			print('Restarting ...')
			retval = os.system(superr)
		else:
			answer = 'q'
	else:
		answer = 'q'

sys.exit()
